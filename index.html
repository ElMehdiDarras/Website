<!DOCTYPE html>
<html lang="en">
<head>
    <title>ElMehdi's Homepage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <link rel="icon" href="media/spinning_earth.gif" type="image/gif">
    <style>
        body {
            /* Space background */
            background-image: url("media/space.gif");
            background-color: #000033; /* Dark blue fallback */
            background-repeat: repeat;
            font-family: "Comic Sans MS", "Arial", sans-serif;
            margin: 0;
            padding: 0;
            color: #000000;
            -webkit-text-size-adjust: 100%; /* Prevent font scaling in landscape */
        }
        
        /* Page container - Mobile-first approach */
        .page-container {
            width: 95%;
            max-width: 800px;
            margin: 0 auto;
            background-color: #d3d3d3; /* Light gray background */
            border: 2px solid #000080;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
            padding: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
            overflow: hidden; /* Prevent content overflow */
            box-sizing: border-box; /* Include padding in width calculation */
        }
        
        .header {
            text-align: center;
            position: relative;
            margin-bottom: 20px;
        }
        
        .title {
            font-size: 52px;
            font-weight: bold;
            text-shadow: 3px 3px 0px #ff00ff, 6px 6px 0px #9900cc;
            color: #6600cc;
            margin: 20px 0;
            transform: rotate(-5deg);
            display: inline-block;
        }
        
        .sparkles {
            position: absolute;
            top: 20px;
            left: 80px;
            font-size: 20px;
            color: #ffcc00;
        }
        
        .nav {
            text-align: center;
            padding: 10px 0;
            background-color: #ffffff;
            border: 1px solid #000080;
            margin-bottom: 20px;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Hide scrollbar for Firefox */
        }
        
        .nav::-webkit-scrollbar {
            display: none; /* Hide scrollbar for Chrome/Safari */
        }
        
        .nav a {
            font-size: 20px;
            color: #000080;
            text-decoration: none;
            font-weight: bold;
            margin: 0 10px;
            padding: 5px 10px;
            display: inline-block;
            min-height: 44px; /* Better touch target */
            line-height: 34px; /* Center text vertically */
            box-sizing: border-box;
        }
        
        .nav a:hover {
            background-color: #ccffff;
            border: 1px dashed #0000ff;
        }
        
        .nav a.active {
            background-color: #6600cc;
            color: white;
            border-bottom: 3px solid #ff00ff;
        }
        
        .main-content {
            display: flex;
            flex-direction: column; /* Stack on mobile by default */
            justify-content: center;
        }
        
        .center-content {
            width: 100%;
            background-color: #ffffff;
            border: 1px solid #cccccc;
            padding: 20px;
            text-align: center;
            box-sizing: border-box;
        }
        
        .right-sidebar {
            width: 100%;
            padding: 0;
            margin-top: 15px;
        }
        
        /* Make Welcome Message Rainbow Text */
        .rainbow-welcome {
            background: none;
            -webkit-background-clip: initial;
            -webkit-text-fill-color: initial;
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            display: block;
            word-wrap: break-word; /* Ensure text wraps on narrow screens */
        }
        
        .rainbow-welcome span:nth-child(1) { color: #ff0000; } /* red */
        .rainbow-welcome span:nth-child(2) { color: #ff7700; } /* orange */
        .rainbow-welcome span:nth-child(3) { color: #ffff00; } /* yellow */
        .rainbow-welcome span:nth-child(4) { color: #77ff00; } /* light green */
        .rainbow-welcome span:nth-child(5) { color: #00ff00; } /* green */
        .rainbow-welcome span:nth-child(6) { color: #0000ff; } /* blue */
        .rainbow-welcome span:nth-child(7) { color: #8a2be2; } /* purple */
        .rainbow-welcome span:nth-child(8) { color: #ff00ff; } /* magenta */
        .rainbow-welcome span:nth-child(9) { color: #ff0000; } /* red */
        .rainbow-welcome span:nth-child(10) { color: #ff7700; } /* orange */
        .rainbow-welcome span:nth-child(11) { color: #ffff00; } /* yellow */
        .rainbow-welcome span:nth-child(12) { color: #77ff00; } /* light green */
        .rainbow-welcome span:nth-child(13) { color: #00ff00; } /* green */
        .rainbow-welcome span:nth-child(14) { color: #0000ff; } /* blue */
        .rainbow-welcome span:nth-child(15) { color: #8a2be2; } /* purple */
        .rainbow-welcome span:nth-child(16) { color: #ff00ff; } /* magenta */
        .rainbow-welcome span:nth-child(17) { color: #ff0000; } /* red */
        .rainbow-welcome span:nth-child(18) { color: #ff7700; } /* orange */
        
        .under-construction {
            text-align: center;
            margin: 20px 0;
        }
        
        .construction-bar {
            display: inline-block;
            background-color: #ffff00;
            padding: 5px 20px;
            border: 2px solid #000000;
            font-weight: bold;
            text-transform: uppercase;
            position: relative;
        }
        
        .rainbow-text {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            margin: 20px 0;
            animation: rainbow 5s infinite;
        }
        
        @keyframes rainbow {
            0% { color: red; }
            14% { color: orange; }
            28% { color: yellow; }
            42% { color: green; }
            56% { color: blue; }
            70% { color: indigo; }
            84% { color: violet; }
            100% { color: red; }
        }
        
        .divider {
            height: 5px;
            background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
            margin: 20px 0;
        }
        
        .webring {
            background-color: #eeeeff;
            padding: 10px;
            text-align: center;
            border: 1px solid #9999cc;
            margin: 20px 0;
        }
        
        .webring a {
            margin: 0 5px;
            color: #0000ff;
        }
        
        .visitor-counter {
            text-align: center;
            margin: 15px 0;
            width: 100%;
            background-color: #f0f0f0;
            padding: 10px;
            border: 1px solid #cccccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        
        .counter-digits {
            display: inline-block;
            background-color: #000000;
            color: #ffffff;
            padding: 2px 5px;
            margin: 0 1px;
            font-family: monospace;
            font-size: 18px;
            border: 1px solid #666666;
        }
        
        .qr-section {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background-color: #f0f0f0;
            border: 1px dashed #999999;
            width: 100%;
            box-sizing: border-box;
        }

        .qr-container {
            margin: 10px auto;
            background-color: #ffffff;
            padding: 10px;
            width: 80px;
            height: 80px;
            border: 1px solid #cccccc;
        }
        
        .blink {
            animation: blinker 1s step-end infinite;
        }
        
        @keyframes blinker {
            50% { opacity: 0; }
        }
        
        marquee {
            background-color: #ffeecc;
            padding: 5px;
            border: 1px solid #ffcc99;
            margin: 10px 0;
            width: 100%;
            box-sizing: border-box;
        }
        
        .contact-buttons {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .contact-button {
            padding: 8px 15px;
            background: linear-gradient(to bottom, #ffcc66, #ff9933);
            border: 2px outset #ff9933;
            color: #000000;
            font-weight: bold;
            cursor: pointer;
            font-family: "Comic Sans MS", "Arial", sans-serif;
            min-width: 44px;
            min-height: 44px;
        }
        
        .contact-button:hover {
            background: linear-gradient(to bottom, #ffdd77, #ffaa44);
        }
        
        .contact-button:active {
            border-style: inset;
        }
        
        /* Language selection styling */
        .language-selector {
            text-align: right;
            margin: 5px 0;
            font-size: 14px;
            padding: 5px;
        }
        
        .language-selector a {
            margin: 0 5px;
            text-decoration: none;
            color: #0000ff;
            font-weight: bold;
            display: inline-block;
            min-height: 35px;
            line-height: 35px;
        }
        
        .language-selector a:hover {
            text-decoration: underline;
        }
        
        /* Projects list */
        .projects-list {
            text-align: left; 
            width: 100%;
            max-width: 500px;
            display: inline-block;
            padding-left: 20px;
            box-sizing: border-box;
        }
        
        .projects-list li {
            margin-bottom: 15px;
            word-wrap: break-word;
            text-align: left;
            line-height: 1.5;
        }
        
        .projects-list a {
            color: #0000ff;
            font-weight: bold;
            text-decoration: none;
        }
        
        .projects-list a:hover {
            text-decoration: underline;
        }
        
        /* Hide content for different languages initially */
        .content-fr, .content-ar {
            display: none;
        }
        
        /* Additional style for RTL content */
        [dir="rtl"] .content-ar {
            text-align: right;
        }
        
        /* Larger screens styles (Desktop) */
        @media only screen and (min-width: 801px) {
            .main-content {
                flex-direction: row;
            }
            
            .center-content {
                width: 70%;
                margin-right: 15px;
            }
            
            .right-sidebar {
                width: 25%;
                margin-top: 0;
            }
            
            .rainbow-welcome {
                font-size: 36px;
            }
        }
        
        /* Mobile Adjustments */
        @media only screen and (max-width: 800px) {
            .page-container {
                width: 95% !important;
                margin: 10px auto !important;
                padding: 5px !important;
            }
            
            .title {
                font-size: 36px !important;
                transform: rotate(-3deg) !important;
            }
            
            .sparkles {
                font-size: 16px !important;
                top: 10px !important;
                left: 40px !important;
            }
            
            .sparkles:last-child {
                right: 40px !important;
                left: auto !important;
            }
            
            .rainbow-welcome {
                font-size: 26px !important;
                padding: 0 10px;
            }
            
            .qr-section, .visitor-counter {
                width: 90% !important;
                margin: 10px auto !important;
            }
        }
        
        /* Small phones */
        @media only screen and (max-width: 480px) {
            .title {
                font-size: 30px !important;
            }
            
            .rainbow-welcome {
                font-size: 22px !important;
            }
            
            .nav a {
                font-size: 16px !important;
                margin: 2px 5px !important;
                min-height: 36px !important;
                line-height: 26px !important;
            }
            
            body, p {
                font-size: 14px !important;
            }
            
            h1 {
                font-size: 24px !important;
            }
            
            h2 {
                font-size: 20px !important;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Language selector -->
        <div class="language-selector">
            <a onclick="switchLanguage('en')" data-en="English" data-fr="Anglais" data-ar="الإنجليزية">English</a> |
            <a onclick="switchLanguage('fr')" data-en="French" data-fr="Français" data-ar="الفرنسية">Français</a> |
            <a onclick="switchLanguage('ar')" data-en="Arabic" data-fr="Arabe" data-ar="العربية">العربية</a>
        </div>
        
        <!-- Header with sparkles -->
        <div class="header">
            <div class="sparkles">✧･ﾟ: *✧･ﾟ:* ✧･ﾟ: *✧･ﾟ:*</div>
            <div class="title" data-en="ElMehdi's Homepage" data-fr="Page d'accueil d'ElMehdi" data-ar="صفحة المهدي الشخصية">ElMehdi's Homepage</div>
            <div class="sparkles" style="left: auto; right: 80px;">*:･ﾟ✧*:･ﾟ✧ *:･ﾟ✧*:･ﾟ✧</div>
        </div>
        
        <!-- Navigation bar -->
        <div class="nav">
            <a href="index.html" class="active" data-en="Home" data-fr="Accueil" data-ar="الرئيسية">Home</a>
            <a href="work.html" data-en="Work" data-fr="Travail" data-ar="العمل">Work</a>
            <a href="education.html" data-en="Education" data-fr="Éducation" data-ar="التعليم">Education</a>
            <a href="certifications.html" data-en="Certifications" data-fr="Certifications" data-ar="الشهادات">Certifications</a>
        </div>
        
        <div class="main-content">
            <div class="center-content">
                <!-- English Content -->
                <div class="content-en">
                    <div class="rainbow-welcome">
                        <span>W</span><span>e</span><span>l</span><span>c</span><span>o</span><span>m</span><span>e</span>
                        <span> </span>
                        <span>t</span><span>o</span>
                        <span> </span>
                        <span>m</span><span>y</span>
                        <span> </span>
                        <span>H</span><span>o</span><span>m</span><span>e</span><span>p</span><span>a</span><span>g</span><span>e</span><span>!</span>
                    </div>
                    
                    <p style="text-align: center;">Hi modern web folks!</p>
                    
                    <p style="text-align: center;">My name is ElMehdi Darras and this is my Web 1.0-style homepage!</p>                    
                    <p style="text-align: center;">This is my little corner of the internet where I showcase my work and projects.</p>
                    
                    <div class="under-construction">
                        <img src="media/consbar.gif" alt="Construction Bar" style="margin: 0 10px; max-width: 100%;">
                    </div>
                    
                    <marquee scrollamount="5">Check out my latest projects! More content coming soon!</marquee>
                    
                    <h2>About Me</h2>
                    <p>I'm a <span>Computer Science Engineer</span> specializing in MIAGE (Computer Science Methods Applied to Business Management) with a passion for creating innovative tech solutions.</p>
                    <p>I enjoy working with SQL, Python, JavaScript, and data analysis tools. I'm currently based in Casablanca, Morocco.</p>
                    <p>Feel free to explore my website!</p>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <a href="mailto:elmehdidarras@gmail.com"><img src="media/email.gif" alt="Email Me" style="margin: 0 10px; max-width: 100%;"></a>
                    </div>
                    
                    <h2>My Projects</h2>
                    <ul class="projects-list">
                        <li><a href="/project-rag.html">RAG System for Pulmonary Diagnostics</a> - Medical diagnostic support system using Retrieval Augmented Generation technology</li>
                        <li><a href="/f1_project_page.html">F1 Race Strategy Analysis</a> - Formula 1 strategy analysis tool studying the impact of pit stops and tire wear</li>
                        <li><a href="/datacenterreporting.html">Data Center Monitoring System</a> - Real-time equipment monitoring system with alerts (current internship project)</li>
                    </ul>
                    
                    <div class="rainbow-text">Thanks for visiting!</div>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <img src="media/kittylink.gif" alt="Kitty Link" style="margin: 0 10px; max-width: 100%;">
                        <img src="media/neko.gif" alt="Neko" style="margin: 0 10px; max-width: 100%;">
                    </div>
                </div>
                
                <!-- French Content -->
                <div class="content-fr">
                    <div class="rainbow-welcome">
                        <span>B</span><span>i</span><span>e</span><span>n</span><span>v</span><span>e</span><span>n</span><span>u</span><span>e</span>
                        <span> </span>
                        <span>s</span><span>u</span><span>r</span>
                        <span> </span>
                        <span>m</span><span>a</span>
                        <span> </span>
                        <span>p</span><span>a</span><span>g</span><span>e</span><span>!</span>
                    </div>
                    
                    <p style="text-align: center;">Salut les gens du web moderne !</p>
                    
                    <p style="text-align: center;">Je m'appelle ElMehdi Darras et ceci est ma page d'accueil style Web 1.0 !</p>                    
                    <p style="text-align: center;">C'est mon petit coin d'internet où je présente mon travail et mes projets.</p>
                    
                    <div class="under-construction">
                        <img src="media/consbar.gif" alt="Barre de Construction" style="margin: 0 10px; max-width: 100%;">
                    </div>
                    
                    <marquee scrollamount="5">Découvrez mes derniers projets ! Plus de contenu à venir !</marquee>
                    
                    <h2>À Propos de Moi</h2>
                    <p>Je suis <span>Ingénieur en Informatique</span> spécialisé en MIAGE (Méthodes Informatiques Appliquées à la Gestion des Entreprises) avec une passion pour la création de solutions technologiques innovantes.</p>
                    <p>J'aime travailler avec SQL, Python, JavaScript et des outils d'analyse de données. Je suis actuellement basé à Casablanca, Maroc.</p>
                    <p>N'hésitez pas à explorer mon site web !</p>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <a href="mailto:elmehdidarras@gmail.com"><img src="media/email.gif" alt="Contactez-moi" style="margin: 0 10px; max-width: 100%;"></a>
                    </div>
                    
                    <h2>Mes Projets</h2>
                    <ul class="projects-list">
                        <li><a href="/project-rag.html">Système RAG pour le Diagnostic Pulmonaire</a> - Système de support au diagnostic médical utilisant la technologie de Génération Augmentée par Récupération</li>
                        <li><a href="/f1_project_page.html">Analyse de Stratégie de Formule 1</a> - Outil d'analyse de stratégie de Formule 1 étudiant l'impact des arrêts aux stands et de l'usure des pneus</li>
                        <li><a href="/datacenterreporting.html">Système de Surveillance de Centre de Données</a> - Système de surveillance d'équipement en temps réel avec alertes (projet de stage actuel)</li>
                    </ul>
                    
                    <div class="rainbow-text">Merci de votre visite !</div>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <img src="media/kittylink.gif" alt="Lien Chaton" style="margin: 0 10px; max-width: 100%;">
                        <img src="media/neko.gif" alt="Neko" style="margin: 0 10px; max-width: 100%;">
                    </div>
                </div>
                
                <!-- Arabic Content -->
                <div class="content-ar" dir="rtl">
                    <div class="rainbow-welcome">
                        <span>مرحبا</span>
                        <span> </span>
                        <span>بك</span>
                        <span> </span>
                        <span>في</span>
                        <span> </span>
                        <span>صفحتي</span><span>!</span>
                    </div>
                    
                    <p style="text-align: center;">مرحبًا بمستخدمي الويب الحديث!</p>
                    
                    <p style="text-align: center;">اسمي المهدي ضراص وهذه هي صفحتي الشخصية بطراز الويب 1.0!</p>                    
                    <p style="text-align: center;">هذه زاويتي الصغيرة من الإنترنت حيث أعرض أعمالي ومشاريعي.</p>
                           
                    <div class="under-construction">
                        <img src="media/consbar.gif" alt="شريط الإنشاء" style="margin: 0 10px; max-width: 100%;">
                    </div>
                    
                    <marquee scrollamount="5" direction="right">تحقق من أحدث مشاريعي! المزيد من المحتوى قريبًا!</marquee>
                    
                    <h2>عن نفسي</h2>
                    <p>أنا <span>مهندس علوم الحاسوب</span> متخصص في MIAGE (أساليب المعلوماتية المطبقة على إدارة الأعمال) مع شغف لإنشاء حلول تقنية مبتكرة.</p>
                    <p>أستمتع بالعمل مع SQL و Python و JavaScript وأدوات تحليل البيانات. أنا حاليًا مقيم في الدار البيضاء، المغرب.</p>
                    <p>لا تتردد في استكشاف موقعي!</p>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <a href="mailto:elmehdidarras@gmail.com"><img src="media/email.gif" alt="أرسل لي بريدًا إلكترونيًا" style="margin: 0 10px; max-width: 100%;"></a>
                    </div>
                    
                    <h2>مشاريعي</h2>
                    <ul class="projects-list" style="text-align: right; padding-right: 20px; padding-left: 0;">
                        <li><a href="/project-rag.html">نظام RAG للتشخيص الرئوي</a> - نظام دعم التشخيص الطبي باستخدام تقنية RAG</li>
                        <li><a href="/f1_project_page.html">تحليل استراتيجية سباق الفورمولا 1</a> - أداة تحليل استراتيجية الفورمولا 1 لدراسة تأثير توقفات الصيانة وتآكل الإطارات</li>
                        <li><a href="/datacenterreporting.html">نظام مراقبة مركز البيانات</a> - نظام مراقبة المعدات في الوقت الحقيقي مع تنبيهات (مشروع التدريب الحالي)</li>
                    </ul>
                    
                    <div class="rainbow-text">شكراً لزيارتك!</div>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <img src="media/kittylink.gif" alt="رابط القطة" style="margin: 0 10px; max-width: 100%;">
                        <img src="media/neko.gif" alt="قطة" style="margin: 0 10px; max-width: 100%;">
                    </div>
                </div>
                
                <!-- Common content for both languages -->
                <div class="divider"></div>
                
                <div style="text-align: center; margin: 15px 0;">
                    <img src="media/linux_powered.gif" alt="Linux Powered" style="margin: 0 10px; max-width: 88px;">
                    <img src="media/madewithnotepad2.gif" alt="Made with Notepad" style="margin: 0 10px; max-width: 88px;">
                    <img src="media/valid-html5.gif" alt="Valid HTML" style="margin: 0 10px; max-width: 88px;">
                </div>
                
                <div style="text-align: center; margin: 15px 0;">
                    <img src="media/netscape.gif" alt="Best viewed with Netscape" style="margin: 0 10px; max-width: 88px;">
                    <img src="media/mozbutd1.gif" alt="Get Mozilla" style="margin: 0 10px; max-width: 88px;">
                    <img src="media/ieburnbtn.gif" alt="IE Burn" style="margin: 0 10px; max-width: 88px;">
                </div>
            </div>
            <div class="right-sidebar">
                <div class="visitor-counter" id="visitor-counter-english">
                    <span data-en="You are visitor number:" data-fr="Vous êtes le visiteur numéro:" data-ar="أنت الزائر رقم:">You are visitor number:</span>
                    <div id="counter-digits-display">
                        <span class="counter-digits">0</span>
                        <span class="counter-digits">0</span>
                        <span class="counter-digits">0</span>
                        <span class="counter-digits">0</span>
                        <span class="counter-digits">4</span>
                        <span class="counter-digits">2</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <img src="media/perfectsoldier2.gif" alt="Perfect Soldier" style="height: 40px;">
                    </div>
                </div>
                
                <div class="qr-section">
                    <h3 style="margin-top: 0; font-size: 14px;" data-en="Contact info:" data-fr="Scannez-moi:" data-ar="امسحني:">Scan me:</h3>
                    <div>
                      <img src="https://api.qrserver.com/v1/create-qr-code/?color=000000&amp;bgcolor=FFFFFF&amp;data=BEGIN%3AVCARD%0AVERSION%3A2.1%0AFN%3AElMehdi+Darras%0AN%3ADarras%3BElMehdi%0ATEL%3BHOME%3BVOICE%3A%2B212698065096%0AEMAIL%3BHOME%3BINTERNET%3Aelmehdidarras%40gmail.com%0AURL%3Ahttps%3A%2F%2Fgithub.com%2FElMehdiDarras%0AEND%3AVCARD%0A&amp;qzone=1&amp;margin=0&amp;size=150x150&amp;ecc=L" alt="qr code" style="max-width: 100%; height: auto; width: 80px" />
                    </div>
                    <div class="contact-buttons">
                        <button class="contact-button" style="font-size: 11px; padding: 5px 8px;" onclick="handleContactSave()" data-en="Save Contact" data-fr="Enregistrer" data-ar="حفظ جهة الاتصال">Save Contact</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Language switching functionality
        function switchLanguage(lang) {
            // Save language preference
            localStorage.setItem('preferred-language', lang);
            
            // Update content visibility
            document.querySelector('.content-en').style.display = (lang === 'en') ? 'block' : 'none';
            document.querySelector('.content-fr').style.display = (lang === 'fr') ? 'block' : 'none';
            document.querySelector('.content-ar').style.display = (lang === 'ar') ? 'block' : 'none';
            
            // Set RTL attribute for Arabic
            document.querySelector('.center-content').setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            
            // Update all elements with data attributes
            const elements = document.querySelectorAll('[data-' + lang + ']');
            elements.forEach(function(element) {
                if (element.hasAttribute('data-' + lang)) {
                    element.textContent = element.getAttribute('data-' + lang);
                }
            });
        }
        
        // Visitor counter functionality
        function updateVisitorCounter() {
            // Get the current count from localStorage or use default value
            let count = parseInt(localStorage.getItem('visitor-count') || '41');
            
            // Increment count
            count++;
            
            // Save the updated count
            localStorage.setItem('visitor-count', count.toString());
            
            // Convert count to digits for display
            const countStr = count.toString().padStart(6, '0');
            
            // Update the counter display
            const counterDisplay = document.getElementById('counter-digits-display');
            if (counterDisplay) {
                counterDisplay.innerHTML = '';
                
                for (let i = 0; i < countStr.length; i++) {
                    const digit = document.createElement('span');
                    digit.className = 'counter-digits';
                    digit.textContent = countStr[i];
                    counterDisplay.appendChild(digit);
                }
            }
            
            return count;
        }
        
        // Contact download functionality
        function downloadVCard() {
            // vCard data extracted from the QR code
            const vCardData = `BEGIN:VCARD
VERSION:2.1
FN:ElMehdi Darras
N:Darras;ElMehdi
TEL;HOME;VOICE:+212698065096
EMAIL;HOME;INTERNET:elmehdidarras@gmail.com
URL:https://github.com/ElMehdiDarras
END:VCARD`;

            // Create Blob from the vCard data
            const blob = new Blob([vCardData], { type: 'text/vcard' });
            
            // Create a temporary link element for download
            const link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.download = 'ElMehdi_Darras.vcf';
            
            // Append link to body (required for Firefox), click it, then remove it
            document.body.appendChild(link);
            link.click();
            
            // Clean up
            setTimeout(() => {
                window.URL.revokeObjectURL(link.href);
                document.body.removeChild(link);
            }, 100);
        }

        // Special mobile approach for vCard
        function mobileVCardDownload() {
            // vCard data
            const vCardData = `BEGIN:VCARD
VERSION:2.1
FN:ElMehdi Darras
N:Darras;ElMehdi
TEL;HOME;VOICE:+212698065096
EMAIL;HOME;INTERNET:elmehdidarras@gmail.com
URL:https://github.com/ElMehdiDarras
END:VCARD`;

            // Create a data URI
            const dataUri = 'data:text/vcard;charset=utf-8,' + encodeURIComponent(vCardData);
            
            // Open the data URI in a new tab - this works better on mobile
            const newTab = window.open(dataUri, '_blank');
            
            // If new tab was blocked, try direct location change
            if (!newTab) {
                const currentLang = localStorage.getItem('preferred-language') || 'en';
                let confirmMsg = "Click OK to download the contact file.";
                
                if (currentLang === 'fr') {
                    confirmMsg = "Cliquez sur OK pour télécharger le fichier de contact.";
                } else if (currentLang === 'ar') {
                    confirmMsg = "انقر فوق موافق لتنزيل ملف جهة الاتصال.";
                }
                
                if (confirm(confirmMsg)) {
                    window.location.href = dataUri;
                }
            }
        }

        // Handle contact save based on device
        function handleContactSave() {
            // Detect mobile device
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            
            if (isMobile) {
                // For iOS/Android: Use mobile-optimized approach
                mobileVCardDownload();
            } else {
                // For desktop: Use standard download
                downloadVCard();
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial language based on saved preference or browser language
            const savedLang = localStorage.getItem('preferred-language');
            let initialLang = 'en'; // Default to English
            
            if (savedLang) {
                initialLang = savedLang;
            } else {
                // Try to detect browser language
                const browserLang = navigator.language || navigator.userLanguage;
                if (browserLang.startsWith('fr')) initialLang = 'fr';
                if (browserLang.startsWith('ar')) initialLang = 'ar';
            }
            
            switchLanguage(initialLang);
            
            // Update visitor counter
            updateVisitorCounter();
        });
    </script>
</body>
</html>